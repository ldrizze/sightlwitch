[gd_scene load_steps=27 format=3 uid="uid://bpmp2qjp6nuy4"]

[ext_resource type="Script" path="res://character_script.gd" id="1_l8ba8"]
[ext_resource type="Script" path="res://levels-scripts/level_11_script.gd" id="1_rqvjj"]
[ext_resource type="SpriteFrames" uid="uid://gtxt1ly4x1kq" path="res://character_anim.tres" id="2_qgclk"]
[ext_resource type="AudioStream" uid="uid://did7rv621lxv1" path="res://sfx/light-switch-81967.mp3" id="3_sa82x"]
[ext_resource type="TileSet" uid="uid://c4crmo1po74jt" path="res://raw_map_tile_set.tres" id="4_uqery"]
[ext_resource type="AudioStream" uid="uid://d2hptohti3ffr" path="res://sfx/350905__cabled_mess__jump_c_05.wav" id="5_gxsbf"]
[ext_resource type="Texture2D" uid="uid://dodimdsaeofg2" path="res://vendor/1-Bit Platformer Pack/Tiles/Transparent/tile_0097.png" id="5_liglo"]
[ext_resource type="SpriteFrames" uid="uid://d0dbjj6xx7jjl" path="res://door_anim.tres" id="6_j8s2n"]
[ext_resource type="AudioStream" uid="uid://cmi0y0sx75m8n" path="res://sfx/landing.wav" id="6_tcxwt"]
[ext_resource type="Texture2D" uid="uid://b4fg2kx57xe6l" path="res://switch.png" id="7_3lsms"]
[ext_resource type="AudioStream" uid="uid://b4wsmff00tpa4" path="res://sfx/646672__sounddesignforyou__coin-pickup-sfx-2.wav" id="7_xxhvu"]
[ext_resource type="Script" path="res://BackgroundColor.gd" id="8_bej4o"]
[ext_resource type="AudioStream" uid="uid://bm0fw758kdtxr" path="res://sfx/443276__loscolt890__gravelfootstep003.wav" id="8_esnhk"]
[ext_resource type="Script" path="res://moving_platform.gd" id="9_il25m"]
[ext_resource type="AudioStream" uid="uid://bax220aygkbcx" path="res://sfx/443277__loscolt890__gravelfootstep002.wav" id="9_kqbpi"]
[ext_resource type="AudioStream" uid="uid://yl7a41422l1" path="res://sfx/443278__loscolt890__gravelfootstep001.wav" id="10_8mjkd"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xyr5i"]
size = Vector2(7, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2boxm"]
size = Vector2(2, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7tvwx"]
size = Vector2(4.25, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4lccq"]
size = Vector2(11, 14)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eh0eq"]
size = Vector2(7, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pw2v7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_euvql"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0jk3o"]
size = Vector2(48, 7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2ljfn"]
size = Vector2(20, 369)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rwov1"]
size = Vector2(20, 369)

[node name="main" type="Node2D"]
script = ExtResource("1_rqvjj")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="CharacterBody2D" type="CharacterBody2D" parent="." node_paths=PackedStringArray("spawn")]
z_index = 1
position = Vector2(84, 312)
collision_mask = 6
script = ExtResource("1_l8ba8")
GRAVITY = 9.81
jump_force = 80.0
walk_velocity = 120.0
mass = 15.0
spawn = NodePath("../SpawnMark")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CharacterBody2D"]
position = Vector2(1, -6)
sprite_frames = ExtResource("2_qgclk")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-0.75, 2)
shape = SubResource("RectangleShape2D_xyr5i")

[node name="Foot" type="Area2D" parent="CharacterBody2D"]
position = Vector2(0, 20)
collision_layer = 0
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/Foot"]
position = Vector2(-0.75, -13.5)
shape = SubResource("RectangleShape2D_2boxm")
debug_color = Color(0.913725, 0.235294, 0.443137, 0.419608)

[node name="Pick" type="Area2D" parent="CharacterBody2D"]
collision_mask = 480

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/Pick"]
position = Vector2(3.375, 2)
shape = SubResource("RectangleShape2D_7tvwx")
debug_color = Color(0.92549, 0.152941, 0.572549, 0.419608)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="CharacterBody2D/Pick"]
position = Vector2(-5, 2)
shape = SubResource("RectangleShape2D_7tvwx")
debug_color = Color(0.92549, 0.152941, 0.572549, 0.419608)

[node name="RespawnTimer" type="Timer" parent="CharacterBody2D"]
one_shot = true

[node name="Body" type="Area2D" parent="CharacterBody2D"]
position = Vector2(-2, -4)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/Body"]
position = Vector2(0.5, 3)
shape = SubResource("RectangleShape2D_4lccq")

[node name="ClickSound" type="AudioStreamPlayer" parent="CharacterBody2D"]
stream = ExtResource("3_sa82x")
volume_db = -10.0

[node name="Jump" type="AudioStreamPlayer" parent="CharacterBody2D"]
stream = ExtResource("5_gxsbf")

[node name="Land" type="AudioStreamPlayer" parent="CharacterBody2D"]
stream = ExtResource("6_tcxwt")
volume_db = -10.0

[node name="KeyPick" type="AudioStreamPlayer" parent="CharacterBody2D"]
stream = ExtResource("7_xxhvu")
volume_db = -3.0

[node name="FootstepsSFX" type="Node" parent="CharacterBody2D"]

[node name="FS1" type="AudioStreamPlayer" parent="CharacterBody2D/FootstepsSFX"]
stream = ExtResource("8_esnhk")
volume_db = -12.0
pitch_scale = 3.0

[node name="FS2" type="AudioStreamPlayer" parent="CharacterBody2D/FootstepsSFX"]
stream = ExtResource("9_kqbpi")
volume_db = -12.0
pitch_scale = 3.0

[node name="FS3" type="AudioStreamPlayer" parent="CharacterBody2D/FootstepsSFX"]
stream = ExtResource("10_8mjkd")
volume_db = -12.0
pitch_scale = 3.0

[node name="SpawnMark" type="Marker2D" parent="."]
position = Vector2(74, 298)

[node name="Map" type="Node" parent="."]

[node name="Terrain" type="TileMap" parent="Map" groups=["terrain"]]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1310720, 524288, 4, 1310721, 524288, 4, 1310722, 524288, 4, 1310723, 524288, 4, 1310724, 524288, 4, 1310725, 524288, 4, 1310726, 524288, 4, 1310727, 524288, 4, 1310728, 524288, 4, 1310729, 524288, 4, 1310730, 524288, 4, 1310731, 524288, 4, 1310732, 524288, 4, 1310733, 524288, 4, 1310734, 524288, 4, 1310735, 524288, 4, 1310736, 524288, 4, 1245200, 458752, 5, 1245201, 524288, 5, 1245202, 524288, 5, 1245203, 589824, 5, 1310737, 524288, 4, 1310738, 524288, 4, 1310739, 524288, 4, 1310740, 524288, 4, 1310741, 524288, 4, 1310742, 524288, 4, 1310743, 524288, 4, 1310744, 524288, 4, 1310745, 524288, 4, 1310746, 524288, 4, 1310747, 524288, 4, 1310748, 524288, 4, 1310749, 524288, 4, 1310750, 524288, 4, 1310751, 524288, 4, 1310752, 524288, 4, 1310753, 524288, 4, 1310754, 524288, 4, 1310755, 524288, 4, 1310756, 524288, 4, 1310757, 524288, 4, 1310758, 524288, 4, 1310759, 524288, 4, 1179664, 458752, 5, 1114128, 458752, 5, 1048592, 458752, 5, 983056, 458752, 5, 917520, 458752, 5, 851984, 458752, 5, 786448, 458752, 5, 720912, 458752, 5, 655376, 458752, 5, 589840, 458752, 5, 524304, 458752, 5, 458768, 458752, 5, 393232, 458752, 4, 1179667, 589824, 5, 1114131, 589824, 5, 1048595, 589824, 5, 983059, 589824, 5, 917523, 589824, 5, 851987, 589824, 5, 786451, 589824, 5, 720915, 589824, 5, 655379, 589824, 5, 589843, 589824, 5, 524307, 589824, 5, 458771, 589824, 5, 393235, 589824, 4, 393234, 524288, 4, 393233, 524288, 4, 1048594, 524288, 5, 983058, 524288, 5, 917522, 524288, 5, 851986, 524288, 5, 786450, 524288, 5, 720914, 524288, 5, 655378, 524288, 5, 589842, 524288, 5, 524306, 524288, 5, 458770, 524288, 5, 458769, 524288, 5, 524305, 524288, 5, 589841, 524288, 5, 655377, 524288, 5, 720913, 524288, 5, 786449, 524288, 5, 851985, 524288, 5, 917521, 524288, 5, 983057, 524288, 5, 1048593, 524288, 5, 1114129, 524288, 5, 1179665, 524288, 5, 1179666, 524288, 5, 1114130, 524288, 5, 1245219, 458752, 5, 1179683, 458752, 5, 1114147, 458752, 5, 1048611, 458752, 5, 983075, 458752, 5, 917539, 458752, 5, 852003, 458752, 5, 786467, 458752, 5, 720931, 458752, 5, 655395, 458752, 5, 589859, 458752, 5, 524323, 458752, 5, 458787, 458752, 5, 393251, 458752, 5, 327715, 458752, 5, 262179, 458752, 5, 196643, 458752, 5, 131107, 458752, 5, 65571, 458752, 5, 35, 524288, 6, 36, 524288, 6, 65572, 524288, 5, 131108, 524288, 5, 196644, 524288, 5, 262180, 524288, 5, 327716, 524288, 5, 393252, 524288, 5, 458788, 524288, 5, 524324, 524288, 5, 589860, 524288, 5, 655396, 524288, 5, 720932, 524288, 5, 786468, 524288, 5, 852004, 524288, 5, 917540, 524288, 5, 983076, 524288, 5, 1048612, 524288, 5, 1114148, 524288, 5, 1179684, 524288, 5, 1245220, 524288, 5, 37, 524288, 6, 65573, 524288, 5, 131109, 524288, 5, 196645, 524288, 5, 262181, 524288, 5, 327717, 524288, 5, 393253, 524288, 5, 458789, 524288, 5, 524325, 524288, 5, 589861, 524288, 5, 655397, 524288, 5, 720933, 524288, 5, 786469, 524288, 5, 852005, 524288, 5, 917541, 524288, 5, 983077, 524288, 5, 1048613, 524288, 5, 1114149, 524288, 5, 1179685, 524288, 5, 1245221, 524288, 5, 38, 524288, 6, 65574, 524288, 5, 131110, 524288, 5, 196646, 524288, 5, 262182, 524288, 5, 327718, 524288, 5, 393254, 524288, 5, 458790, 524288, 5, 524326, 524288, 5, 589862, 524288, 5, 655398, 524288, 5, 720934, 524288, 5, 786470, 524288, 5, 852006, 524288, 5, 917542, 524288, 5, 983078, 524288, 5, 1048614, 524288, 5, 1114150, 524288, 5, 1179686, 524288, 5, 1245222, 524288, 5, 39, 524288, 6, 65575, 524288, 5, 131111, 524288, 5, 196647, 524288, 5, 262183, 524288, 5, 327719, 524288, 5, 393255, 524288, 5, 458791, 524288, 5, 524327, 524288, 5, 589863, 524288, 5, 655399, 524288, 5, 720935, 524288, 5, 786471, 524288, 5, 852007, 524288, 5, 917543, 524288, 5, 983079, 524288, 5, 1048615, 524288, 5, 1114151, 524288, 5, 1179687, 524288, 5, 1245223, 524288, 5, 1245184, 589824, 5, 1179648, 589824, 5, 1114112, 589824, 5, 1048576, 589824, 5, 983040, 589824, 5, 917504, 589824, 5, 851968, 589824, 5, 786432, 589824, 5, 720896, 589824, 5, 655360, 589824, 5, 589824, 589824, 5, 524288, 589824, 5, 458752, 589824, 5, 393216, 589824, 5, 327680, 589824, 5, 262144, 589824, 5, 196608, 589824, 5, 131072, 589824, 5, 65536, 589824, 5, 0, 524288, 6, 1376256, 524288, 5, 1441792, 524288, 5, 1376257, 524288, 5, 1441793, 524288, 5, 1376258, 524288, 5, 1441794, 524288, 5, 1376259, 524288, 5, 1441795, 524288, 5, 1376260, 524288, 5, 1441796, 524288, 5, 1376261, 524288, 5, 1441797, 524288, 5, 1376262, 524288, 5, 1441798, 524288, 5, 1376263, 524288, 5, 1441799, 524288, 5, 1376264, 524288, 5, 1441800, 524288, 5, 1376265, 524288, 5, 1441801, 524288, 5, 1376266, 524288, 5, 1441802, 524288, 5, 1376267, 524288, 5, 1441803, 524288, 5, 1376268, 524288, 5, 1441804, 524288, 5, 1376269, 524288, 5, 1441805, 524288, 5, 1376270, 524288, 5, 1441806, 524288, 5, 1376271, 524288, 5, 1441807, 524288, 5, 1376272, 524288, 5, 1441808, 524288, 5, 1376273, 524288, 5, 1441809, 524288, 5, 1376274, 524288, 5, 1441810, 524288, 5, 1376275, 524288, 5, 1441811, 524288, 5, 1376276, 524288, 5, 1441812, 524288, 5, 1376277, 524288, 5, 1441813, 524288, 5, 1376278, 524288, 5, 1441814, 524288, 5, 1376279, 524288, 5, 1441815, 524288, 5, 1376280, 524288, 5, 1441816, 524288, 5, 1376281, 524288, 5, 1441817, 524288, 5, 1376282, 524288, 5, 1441818, 524288, 5, 1376283, 524288, 5, 1441819, 524288, 5, 1376284, 524288, 5, 1441820, 524288, 5, 1376285, 524288, 5, 1441821, 524288, 5, 1376286, 524288, 5, 1441822, 524288, 5, 1376287, 524288, 5, 1441823, 524288, 5, 1376288, 524288, 5, 1441824, 524288, 5, 1376289, 524288, 5, 1441825, 524288, 5, 1376290, 524288, 5, 1441826, 524288, 5, 1376291, 524288, 5, 1441827, 524288, 5, 1376292, 524288, 5, 1441828, 524288, 5, 1376293, 524288, 5, 1441829, 524288, 5, 1376294, 524288, 5, 1441830, 524288, 5, 1376295, 524288, 5, 1441831, 524288, 5, 1, 524288, 6, 2, 524288, 6, 3, 524288, 6, 4, 524288, 6, 5, 524288, 6, 6, 524288, 6, 7, 524288, 6, 8, 524288, 6, 9, 524288, 6, 10, 524288, 6, 11, 524288, 6, 12, 524288, 6, 13, 524288, 6, 14, 524288, 6, 15, 524288, 6, 16, 524288, 6, 17, 524288, 6, 18, 524288, 6, 19, 524288, 6, 20, 524288, 6, 21, 524288, 6, 22, 524288, 6, 23, 524288, 6, 24, 524288, 6, 25, 524288, 6, 26, 524288, 6, 27, 524288, 6, 28, 524288, 6, 29, 524288, 6, 30, 524288, 6, 31, 524288, 6, 32, 524288, 6, 33, 524288, 6, 34, 524288, 6)

[node name="RedTrap" type="TileMap" parent="Map" groups=["red", "trap"]]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(917536, 917504, 131091, 852000, 917504, 131089, 852001, 983040, 131089, 852002, 983040, 131089, 917538, 983040, 131091, 917537, 983040, 131091, 655380, 983040, 131091, 655381, 983040, 131091, 655382, 983040, 131091, 655383, 1048576, 131091, 589847, 1048576, 131089, 589846, 983040, 131089, 589845, 983040, 131089, 589844, 983040, 131089, 983074, 196608, 327689, 983073, 196608, 327689, 983072, 196608, 327689, 786464, 196608, 131081, 786465, 196608, 131081, 786466, 196608, 131081, 917535, 196608, 262153, 851999, 196608, 262153, 720919, 196608, 327689, 720918, 196608, 327689, 720917, 196608, 327689, 720916, 196608, 327689, 589848, 196608, 196617, 655384, 196608, 196617, 524308, 196608, 131081, 524309, 196608, 131081, 524310, 196608, 131081, 524311, 196608, 131081, 1245185, 196608, 131081, 1245186, 196608, 131081, 1245193, 196608, 131081, 1245194, 196608, 131081, 1245195, 196608, 131081)

[node name="RedTerrain" type="TileMap" parent="Map" groups=["red"]]
tile_set = ExtResource("4_uqery")
format = 2

[node name="BlueTerrain" type="TileMap" parent="Map" groups=["blue"]]
tile_set = ExtResource("4_uqery")
format = 2

[node name="BlueTrap" type="TileMap" parent="Map" groups=["blue", "trap"]]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(327696, 196608, 65545, 327697, 196608, 65545, 327698, 196608, 65545, 327699, 196608, 65545)

[node name="Key" type="Node2D" parent="Map" groups=["blue"]]
position = Vector2(248, 296)

[node name="Area2D" type="Area2D" parent="Map/Key" groups=["key", "light_switch_blue"]]
collision_layer = 32

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Key/Area2D"]
shape = SubResource("RectangleShape2D_eh0eq")
debug_color = Color(0.317647, 0.619608, 0.27451, 0.419608)

[node name="KeySprite" type="Sprite2D" parent="Map/Key"]
modulate = Color(0.380392, 0.4, 1, 1)
texture = ExtResource("5_liglo")

[node name="Door" type="Node2D" parent="Map"]
position = Vector2(464, 313)

[node name="Area2D" type="Area2D" parent="Map/Door" groups=["door"]]
collision_layer = 64

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Door/Area2D"]
shape = SubResource("RectangleShape2D_pw2v7")
debug_color = Color(0.686275, 0.494118, 0.219608, 0.419608)

[node name="DoorSprite" type="AnimatedSprite2D" parent="Map/Door"]
sprite_frames = ExtResource("6_j8s2n")

[node name="BlueSwitch" type="Node2D" parent="Map"]
position = Vector2(360, 309)

[node name="Sprite2D" type="Sprite2D" parent="Map/BlueSwitch"]
modulate = Color(1, 0.329412, 0.329412, 1)
texture = ExtResource("7_3lsms")

[node name="BlueSwitch" type="Area2D" parent="Map/BlueSwitch" groups=["blue_switch"]]
collision_layer = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/BlueSwitch/BlueSwitch"]
shape = SubResource("RectangleShape2D_euvql")
debug_color = Color(0.784314, 0.431373, 0.0823529, 0.419608)

[node name="RedSwitch" type="Node2D" parent="Map"]
visible = false
position = Vector2(440, -30)

[node name="Sprite2D" type="Sprite2D" parent="Map/RedSwitch"]
texture = ExtResource("7_3lsms")

[node name="RedSwitch" type="Area2D" parent="Map/RedSwitch"]
collision_layer = 256

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/RedSwitch/RedSwitch"]
shape = SubResource("RectangleShape2D_euvql")
debug_color = Color(0.784314, 0.431373, 0.0823529, 0.419608)

[node name="BackgroundColor" type="Node2D" parent="Map"]
z_index = -1
script = ExtResource("8_bej4o")

[node name="MPS" type="Node" parent="Map"]

[node name="LeftBottom" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-144, 48)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftBottom" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")

[node name="Platform" type="TileMap" parent="Map/MPS/LeftBottom/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftBottom/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftBottom"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftBottom"]
position = Vector2(320, 240)

[node name="LeftMiddle" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-216, 8)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.0

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle"]
position = Vector2(320, 240)

[node name="LeftMiddle2" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-80, -8)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle2" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.5

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle2/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle2/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle2"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle2"]
position = Vector2(272, 240)

[node name="LeftMiddle3" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-184, -40)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle3" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 1.5

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle3/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle3/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle3"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle3"]
position = Vector2(312, 240)

[node name="LeftMiddle4" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-80, -64)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle4" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle4/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle4/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle4"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle4"]
position = Vector2(272, 240)

[node name="LeftMiddle5" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-184, -96)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle5" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 3.3

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle5/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle5/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle5"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle5"]
position = Vector2(352, 240)

[node name="LeftMiddle6" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-72, -112)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle6" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.0

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle6/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle6/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle6"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle6"]
position = Vector2(264, 240)

[node name="LeftMiddle7" type="Node2D" parent="Map/MPS" groups=["red"]]
position = Vector2(-184, -144)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/LeftMiddle7" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.0

[node name="Platform" type="TileMap" parent="Map/MPS/LeftMiddle7/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 131075, 2, 327680, 131075, 3, 393216, 131075)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/LeftMiddle7/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/LeftMiddle7"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/LeftMiddle7"]
position = Vector2(320, 240)

[node name="Upper" type="Node2D" parent="Map/MPS"]
position = Vector2(-120, -176)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/Upper" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 7.0

[node name="Platform" type="TileMap" parent="Map/MPS/Upper/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 3, 2, 327680, 3, 3, 393216, 3)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/Upper/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/Upper"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/Upper"]
position = Vector2(616, 240)

[node name="RightUpper" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(96, -120)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.5

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper"]
position = Vector2(400, 240)

[node name="RightUpper7" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(184, -136)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper7" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper7/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper7/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper7"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper7"]
position = Vector2(312, 240)

[node name="RightUpper2" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(176, -80)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper2" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 4.0

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper2/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper2/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper2"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper2"]
position = Vector2(320, 240)

[node name="RightUpper6" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(128, -48)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper6" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.3

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper6/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper6/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper6"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper6"]
position = Vector2(320, 240)

[node name="RightUpper3" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(104, 8)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper3" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 5.0

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper3/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper3/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper3"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper3"]
position = Vector2(320, 240)

[node name="RightUpper5" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(168, -24)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper5" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper5/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper5/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper5"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper5"]
position = Vector2(320, 240)

[node name="RightUpper4" type="Node2D" parent="Map/MPS" groups=["blue"]]
position = Vector2(128, 40)

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Map/MPS/RightUpper4" node_paths=PackedStringArray("init", "end")]
position = Vector2(224, 240)
collision_layer = 2
script = ExtResource("9_il25m")
init = NodePath("../MPSInit")
end = NodePath("../MPSEnd")
duration = 2.0

[node name="Platform" type="TileMap" parent="Map/MPS/RightUpper4/AnimatableBody2D"]
tile_set = ExtResource("4_uqery")
format = 2
layer_0/tile_data = PackedInt32Array(1, 262144, 65539, 2, 327680, 65539, 3, 393216, 65539)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/MPS/RightUpper4/AnimatableBody2D"]
position = Vector2(40, 3.5)
shape = SubResource("RectangleShape2D_0jk3o")

[node name="MPSInit" type="Marker2D" parent="Map/MPS/RightUpper4"]
position = Vector2(224, 240)

[node name="MPSEnd" type="Marker2D" parent="Map/MPS/RightUpper4"]
position = Vector2(368, 240)

[node name="LeftWall" type="StaticBody2D" parent="Map"]
position = Vector2(-8, 362)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/LeftWall"]
position = Vector2(0, -174.5)
shape = SubResource("RectangleShape2D_2ljfn")

[node name="RightWall" type="StaticBody2D" parent="Map"]
position = Vector2(631, 362)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/RightWall"]
position = Vector2(0, -174.5)
shape = SubResource("RectangleShape2D_rwov1")

[node name="NextSceneTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[connection signal="animation_finished" from="CharacterBody2D/AnimatedSprite2D" to="CharacterBody2D" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="body_entered" from="CharacterBody2D/Foot" to="CharacterBody2D" method="_on_area_2d_body_entered"]
[connection signal="area_entered" from="CharacterBody2D/Pick" to="CharacterBody2D" method="_on_pick_area_entered"]
[connection signal="timeout" from="CharacterBody2D/RespawnTimer" to="CharacterBody2D" method="_on_respawn_timer_timeout"]
[connection signal="body_entered" from="CharacterBody2D/Body" to="CharacterBody2D" method="_on_body_body_entered"]
[connection signal="area_entered" from="Map/Door/Area2D" to="CharacterBody2D" method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="Map/BlueSwitch/BlueSwitch" to="CharacterBody2D" method="_on_blue_switch_area_entered"]
[connection signal="area_exited" from="Map/BlueSwitch/BlueSwitch" to="CharacterBody2D" method="_on_blue_switch_area_exited"]
[connection signal="area_entered" from="Map/RedSwitch/RedSwitch" to="CharacterBody2D" method="_on_red_switch_area_entered"]
[connection signal="area_exited" from="Map/RedSwitch/RedSwitch" to="CharacterBody2D" method="_on_red_switch_area_exited"]
[connection signal="timeout" from="NextSceneTimer" to="." method="_on_next_scene_timer_timeout"]
